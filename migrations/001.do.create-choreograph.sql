CREATE TABLE graphusers (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    username TEXT NOT NULL,
    password TEXT NOT NULL
);

CREATE TABLE pieceoptions (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    title TEXT NOT NULL
);

CREATE TABLE assignedpieces (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    user_id INTEGER
        REFERENCES graphusers(id) ON DELETE CASCADE NOT NULL,
    userName TEXT NOT NULL,
    piece TEXT NOT NULL
);

CREATE TABLE piecesteps (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    user_id INTEGER 
        REFERENCES assignedpieces(id) ON DELETE CASCADE NOT NULL,
    title TEXT NOT NULL,
    content TEXT
);

CREATE TABLE costume (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    piece TEXT NOT NULL,
    costume TEXT
);