CREATE TABLE graphusers (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    title TEXT NOT NULL,
    person TEXT NOT NULL
);

CREATE TABLE graphpasswords (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    title TEXT NOT NULL,
    content TEXT NOT NULL
);

ALTER TABLE graphpasswords 
    ADD COLUMN
     user INTEGER REFERENCES graphusers(id)
     ON DELETE SET NULL;


CREATE TABLE pieceoptions (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    title TEXT NOT NULL
);


CREATE TABLE assignedpieces (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    userName TEXT NOT NULL,
    piece TEXT NOT NULL,
    user INTEGER
        REFERENCES graphusers(id) ON DELETE CASCADE NOT NULL,
);

ALTER TABLE assignedpieces 
    ADD COLUMN
     user INTEGER REFERENCES graphusers(id)
     ON DELETE SET NULL;

CREATE TABLE piecesteps (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    title TEXT NOT NULL,
    content TEXT,

);

ALTER TABLE piecesteps 
    ADD COLUMN
     user INTEGER REFERENCES assignedpieces(id)
     ON DELETE SET NULL;

CREATE TABLE costume (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    piece TEXT NOT NULL,
    costume TEXT
);